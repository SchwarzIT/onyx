// @ts-check
import sitOnyx from "@sit-onyx/eslint-plugin";
import vueScopedCssEslintPlugin from "eslint-plugin-vue-scoped-css";
import { baseConfig } from "../../eslint.config.js";

/**
 * @type {import('eslint').Linter.Config[]}
 */
export default [
  ...baseConfig(),
  ...vueScopedCssEslintPlugin.configs["flat/recommended"],
  {
    plugins: {
      sitOnyx,
    },
    rules: {
      "sitOnyx/import-playwright-a11y": "error",
      "sitOnyx/no-shadow-native": "error",
      "no-console": "error",
      "no-debugger": "error",
      "vue/html-button-has-type": "error",
      "vue/require-prop-comment": "error",
      "vue/valid-define-options": "error",
      "vue/no-setup-props-reactivity-loss": "error",
      "vue/no-restricted-syntax": "error",
      "vue/prefer-true-attribute-shorthand": "error",
      "vue/no-loss-of-precision": "error",
      "vue/no-irregular-whitespace": "error",
      "vue/no-console": "error",
      "vue/require-explicit-slots": "error",
      "vue/no-useless-v-bind": "error",
      "vue/no-useless-mustaches": "error",
      "vue/no-root-v-if": "error",
      "vue/no-static-inline-styles": "error",
      "vue/no-unused-refs": "error",
      "vue/no-required-prop-with-default": "error",
      "vue/no-ref-object-reactivity-loss": "error",
      "vue/no-duplicate-attr-inheritance": "error",
      "vue/no-boolean-default": "error",
      "vue/block-order": "error",
      "vue/camelcase": "error",
      // disallow scoped or module CSS for components
      // see https://onyx.schwarz/principles/technical-vision.html#css
      "vue-scoped-css/enforce-style-type": ["error", { allows: ["plain"] }],
      // we want to provide the flexibility to have the autofocus property.
      // whe JSDoc description includes a warning that it should be used carefully.
      "vuejs-accessibility/no-autofocus": "off",
      "vue-scoped-css/no-parsing-error": "off",
    },
  },
  {
    files: ["src/**/*.spec.ts"],
    rules: {
      "playwright/no-standalone-expect": "off",
      "vue/no-ref-object-reactivity-loss": "off",
    },
  },
  {
    files: ["src/components/examples/**/*.vue"],
    rules: { "vue-scoped-css/enforce-style-type": "off" },
  },
];
