import { expect, test } from "vitest";
import { normalizedIncludes } from "./strings";

test.each([
  // ARRANGE
  { haystack: "", needle: "", expected: true },
  { haystack: "", needle: " ", expected: false },
  { haystack: " ", needle: "", expected: true },
  { haystack: "ASM", needle: "A", expected: true },
  { haystack: "ASM", needle: "x", expected: false },
  { haystack: "Ã¼ben", needle: "Ã¼", expected: true },
  { haystack: "Ã¼ben", needle: "u", expected: true },
  { haystack: "uber", needle: "Ã¼", expected: true },
  { haystack: "uBeR", needle: "uber", expected: true },
  { haystack: "uBeR", needle: "ÃœBer", expected: true },
  { haystack: "Ã¤Ã¼ðŸŽ‰Ã¶", needle: "ðŸŽ‰", expected: true },
  { haystack: "ÃœBen", needle: "Ã¼bEn", expected: true },
  { haystack: "ÃœBen", needle: "Ã¼Ben", expected: true },
])(
  "should return $expected when $needle is searched in $haystack ",
  ({ haystack, needle, expected }) => {
    // ACT
    const result = normalizedIncludes(haystack, needle);

    // ASSERT
    expect(result).toBe(expected);
  },
);
